import{_ as p,a as v,o as _,b as x,d as F,e as I}from"./index-wA873WOq.js";const A=1e3/60,q={__name:"index",setup(b){const i=v(null);let t=[],a=0,c=null,d=performance.now();_(()=>{h().then(e=>{t=e,console.log(t)}),f(),w(),window.addEventListener("wheel",u)});const g=e=>new Promise((r,n)=>{let s=new Image;s.onload=()=>{r(s)},s.onerror=function(){n(e)},s.src=e}),h=async()=>{let e=[];for(let o=0;o<=50;o++)await g(`/goods/case1/1000${o}-imageonline.webp`).then(r=>{e.push(r)});return e};x(()=>{window.removeEventListener("wheel",u),cancelAnimationFrame(c)});function f(){const e=i.value.getContext("2d");e.canvas.width=window.innerWidth,e.canvas.height=window.innerHeight}function w(){c=requestAnimationFrame(l)}function l(e){const o=e-d,r=Math.min(o/A,1);d=e;const n=i.value.getContext("2d");n.clearRect(0,0,n.canvas.width,n.canvas.height);const s=t[a];console.log("first---",s);const m=new Image;m.src=s,m.onload=()=>{n.drawImage(m,0,0,n.canvas.width,n.canvas.height),r===1&&(a=(a+1)%t.length),c=requestAnimationFrame(l)}}function u(e){console.log("scroll"),e.deltaY>0?a=(a+1)%t.length:a=(a-1+t.length)%t.length}return(e,o)=>(F(),I("canvas",{ref_key:"canvasRef",ref:i,class:"sequence-frames"},null,512))}},B=p(q,[["__scopeId","data-v-560d605b"]]);export{B as default};
